{"id":"D9237456-3431-4C1D-B7BF-D6B937425F0F","name":"AMLModelDeploy","friendlyName":"AzureML Model Deploy","description":"AzureML Deploy Model","helpUrl":"https://marketplace.visualstudio.com/items?itemName=ms-air-aiagility.private-vss-services-azureml&ssr=false#overview","helpMarkDown":"[More Information](https://marketplace.visualstudio.com/items?itemName=ms-air-aiagility.private-vss-services-azureml&ssr=false#overview)","category":"Deploy","releaseNotes":"Works with cross-platform agents (Linux, macOS, or Windows)","visibility":["Build","Release"],"author":"ms-air-aiagility","version":{"Major":0,"Minor":8,"Patch":"20"},"groups":[{"name":"modelInfo","displayName":"Model Information","isExpanded":true},{"name":"deployment","displayName":"Deployment Information","isExpanded":false}],"inputs":[{"name":"connectedServiceName","aliases":["azureSubscription"],"type":"connectedService:AzureRM","label":"Azure ML Workspace","properties":{"EndpointFilterRule":"ScopeLevel == AzureMLWorkspace"},"defaultValue":"","required":true,"groupName":"modelInfo","helpMarkDown":"Select the Azure Machine Learning Workspace"},{"name":"validateProfile","type":"boolean","label":"Validate and Profile","required":false,"defaultValue":"false","helpMarkDown":"If clicked, the model will be validated and profiled, providing recommended cpu and memory requirements for deployment."},{"name":"inputData","type":"multiLine","label":"Input Data (JSON)","visibleRule":"validateProfile = true","required":false,"defaultValue":"","properties":{"resizable":"true","rows":"10","maxLength":"5000"},"helpMarkDown":"JSON data for validation purposes."},{"name":"overwriteParams","type":"boolean","label":"overwrite profile file","visibleRule":"validateProfile = true","required":true,"defaultValue":"false","helpMarkDown":"If this is clicked, the profile recommended CPU and memory spec will overwrite the values from your deployment configuration file"},{"name":"modelProfileName","type":"string","label":"Profile Name","defaultValue":"myprofile","visibleRule":"validateProfile = true","required":true,"helpMarkDown":"Profile name for model.","options":{"EditableOptions":"True"}},{"name":"profileResultJson","type":"filePath","label":"Model Profile Result File Path(JSON)","defaultValue":"","visibleRule":"validateProfile = true","required":true,"helpMarkDown":"Fully qualified path to JSON file to hold model profile results."},{"name":"modelSourceType","type":"radio","label":"Model Source","required":true,"defaultValue":"modelArtifact","groupName":"modelInfo","helpMarkDown":"Model Source type: Model Artifact or Manual Specify","options":{"modelArtifact":"Model Artifact","manualSpec":"Manual Specify"}},{"name":"modelName","type":"pickList","label":"Model Name","visibleRule":"modelSourceType = manualSpec","defaultValue":"","required":true,"groupName":"modelInfo","helpMarkDown":"Model name to be deployed."},{"name":"modelVersion","type":"pickList","label":"Model Version","visibleRule":"modelSourceType = manualSpec","defaultValue":"","required":true,"groupName":"modelInfo","helpMarkDown":"Model version to be deployed."},{"name":"inferencePath","type":"filePath","label":"Inference config Path","defaultValue":"","required":true,"groupName":"modelInfo","helpMarkDown":"Fully qualified path of inference for model deployment"},{"name":"deploymentTarget","type":"pickList","label":"Model Deployment Target","defaultValue":"ACI","required":true,"options":{"ACI":"Azure Container Instance","AKS":"Azure Kubernetes Service"},"groupName":"deployment","helpMarkDown":"Select either 'ACI' for Azure Container Instances or 'AKS' for Azure Kubernetes Service deployment types."},{"name":"aksCluster","type":"pickList","label":"Select AKS Cluster for Deployment","visibleRule":"deploymentTarget = AKS","defaultValue":"","required":true,"groupName":"deployment","helpMarkDown":"Select AKS Cluster registered as a compute target for deployment."},{"name":"deploymentName","type":"string","label":"Deployment Name","defaultValue":"","required":true,"groupName":"deployment","helpMarkDown":"Provide a name for the deployment (lowercase between 3 and 32 chars. Only special chars allowed are '-' and '.' "},{"name":"deployConfig","type":"filePath","label":"Deployment configuration file","required":true,"defaultValue":"","groupName":"deployment","helpMarkDown":"Select the json/yaml file containing configuration information for the deployment "},{"name":"overwriteExistingDeployment","type":"boolean","label":"Overwrite existing deployment","required":true,"defaultValue":"false","groupName":"deployment","helpMarkDown":"If clicked, an existing deployment with the same name will be overwritten"}],"dataSourceBindings":[{"target":"modelName","endpointId":"$(connectedServiceName)","dataSourceName":"Models","resultTemplate":"{ \"Value\" : \"{{{name}}}\", \"DisplayValue\" : \"{{{name}}}\" }"},{"target":"modelVersion","endpointId":"$(connectedServiceName)","dataSourceName":"Models","resultTemplate":"{ \"Value\" : \"{{{version}}}\", \"DisplayValue\" : \"{{{version}}}\" }"},{"target":"aksCluster","endpointId":"$(connectedServiceName)","dataSourceName":"AKSComputeTargets","resultTemplate":"{ \"Value\" : \"{{{name}}}\", \"DisplayValue\" : \"{{{name}}}\" }"}],"instanceNameFormat":"Azure ML Model Deploy","execution":{"Node":{"target":"index.js"}},"messages":{"AmlCliNotAvailable":"AzureML CLI is not available","InvalidWorkspace":"Invalid AML workspace name: %s","ErrorInSettingUpSubscription":"Failed to set default subscription","NotAFile":"The given path was not to a file: '%s'.","NotAJsonFile":"The given file was not a JSON: '%s'.","NotAYamlFile":"The given file was not a YAML: '%s'.","InvalidJson":"The given Input Data is Invalid JSON","NotAValidlFile":"The given file is Invalid.","CannotUseModelArtifact":"Model Artifact can be used only in release pipeline.","CannotResolveVariable":"Cannot resolve the predefined variable :%s."},"OutputVariables":[{"name":"AZUREML_MODELPROFLIE_CPU","description":"CPU result of model profile.","visibleRule":"modelSourceType = modelArtifact || manualSpec"},{"name":"AZUREML_MODELPROFLIE_MEMORY","description":"Memory result of model profile.","visibleRule":"modelSourceType = modelArtifact || manualSpec"}]}
