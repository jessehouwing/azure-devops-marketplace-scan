{"$schema":"https://raw.githubusercontent.com/Microsoft/azure-pipelines-task-lib/master/tasks.schema.json","id":"da0e5597-b532-439c-9574-7732523c5b00","name":"AndroidThingsConsoleCLI","friendlyName":"Android Things Console CLI","description":"A task to peform devops actions on android things console","helpMarkDown":"","category":"Build","author":"Daniel Meza","visibility":["Build","Release"],"runsOn":["Agent"],"version":{"Major":"2020","Minor":"11","Patch":"1013"},"minimumAgentVersion":"2.115.0","instanceNameFormat":"atconsole $(command)","demands":["ATConsole","ImDisk"],"groups":[{"name":"googleAuth","displayName":"Google authentication","isExpanded":true,"visibleRule":"command != pack && command != install"},{"name":"newAppOptions","displayName":"New app options","isExpanded":true,"visibleRule":"command = newapp"},{"name":"appInfoOptions","displayName":"App info","isExpanded":true,"visibleRule":"command = push || command = build"},{"name":"newBuildOptions","displayName":"New build options","isExpanded":true,"visibleRule":"command = build"},{"name":"buildInfo","displayName":"Build info","visibleRule":"command = build || command = donwload"},{"name":"buildPartition","displayName":"Partitions options","isExpanded":true,"visibleRule":"command = build"},{"name":"downloadOptions","displayName":"Donwload options","isExpanded":true,"visibleRule":"command = download"},{"name":"downloadAdvance","displayName":"Advance","isExpanded":true,"visibleRule":"command = download"},{"name":"packOptions","displayName":"Pack options","isExpanded":true,"visibleRule":"command = pack"}],"inputs":[{"name":"command","type":"pickList","label":"Command","defaultValue":"push","required":true,"options":{"newapp":"apps new","push":"apps push","build":"builds new","download":"builds donwload","pack":"builds pack"},"properties":{"EditableOptions":"False"}},{"name":"userName","label":"Google Account User Name","type":"string","groupName":"googleAuth"},{"name":"userPassword","label":"Google Account Password","type":"string","groupName":"googleAuth"},{"name":"appPath","type":"filePath","label":"Apk file path","visibleRule":"command = push || command = newapp","required":true},{"name":"appName","type":"filePath","label":"Application name","visibleRule":"command = push || command = build","required":true,"helpMarkDown":"The name of the application to be selected for the operation"},{"name":"appVersion","type":"string","label":"App version","required":true,"groupName":"appInfoOptions"},{"name":"appIndex","type":"string","label":"App index","required":false,"groupName":"appInfoOptions"},{"name":"buildProduct","type":"string","label":"Build product","helpMarkDown":"The product identifier, to get it navigate to the product page and copy and paste 'product_code' place older from https://partner.android.com/things/console/#/{product_code}/configure ","groupName":"buildInfo","required":true},{"name":"buildModel","type":"string","label":"Build product","helpMarkDown":"The product identifier, to get it navigate to the product page and copy and paste 'product_code' place older from https://partner.android.com/things/console/#/{product_code}/configure ","groupName":"buildInfo","required":true},{"name":"buildName","type":"string","label":"Build configuration name","required":true,"groupName":"newBuildOptions"},{"name":"buildBootanimation","type":"filePath","label":"Boot animation file path","required":false,"groupName":"newBuildOptions"},{"name":"buildPartitionSize","defaultValue":"4096","type":"string","label":"Total sisze","required":true,"groupName":"buildPartition"},{"name":"buildOemSize","defaultValue":"512","type":"string","label":"Oem partition sisze","required":true,"groupName":"buildPartition"},{"name":"downloadFilePath","defaultValue":"$(Build.ArtifactStagingDirectory)/build_$(Build.Number).zip","type":"filePath","label":"Target file path","helpMarkDown":"Target file path where the donloaded build will be stored, the file should not exist.","required":true,"groupName":"downloadOptions"},{"name":"buildId","type":"string","label":"Build ID","helpMarkDown":"The build ID to be download, if you specify this the other options are not needed","required":false,"groupName":"downloadOptions"},{"name":"downloadProduction","type":"boolean","label":"Production","helpMarkDown":"Enable this to try download a production image","required":true,"groupName":"downloadOptions"},{"name":"imagePath","type":"filePath","label":"Android things image","helpMarkDown":"The Android Things image to be package","required":true,"groupName":"packOptions"},{"name":"packTargetFilePath","type":"filePath","label":"Package image path","helpMarkDown":"The file path where the packaged image will be output","required":true,"groupName":"packOptions"},{"name":"packBootFilePath","type":"filePath","label":"Boot content file path","helpMarkDown":"The boot content file must be a .zip file with all desire diles to be upload to the boot partition","required":true,"groupName":"packOptions"},{"name":"packNoZip","type":"boolean","label":"No zip","helpMarkDown":"Check to no zip the output image","required":true,"groupName":"packOptions"}],"OutputVariables":[{"name":"buildId","description":"New build id (is produced only when command is 'builds new')"}],"preview":true,"execution":{"Node":{"target":"$(currentDirectory)/dist/src/atconsole.js","workingDirectory":"$(currentDirectory)/dist/src/"}},"messages":{"Error_CommandNotRecognized":"The command %s was not recognized.","Error_AppFileNotFound":"The app file %s where not found","Error_AppIdOrNameRequired":"At least the app id or app name mus be provided","Error_PushAppFailed":"An error ocurred while pushing the app, see the log for more info","Error_UploadNewAppFailed":"An error ocurred while upload the app, see the log for more info","Error_DonwloadBuildFailed":"An error ocurred while donwload the build %s, see the log for more info","bootAnimationNotFound":"The boot animation file %s where not found","donwloadTargetAlreadyExist":"The target file %s already exist"}}
